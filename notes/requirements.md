# Mind Dump - 技术规格说明书 (V1.1 双流版)

## 1. 产品愿景
「零摩擦」的语音优先个人助理。
核心逻辑：说出即录入 → 自动区分「待办」与「点子」→ 分流存储。

- **待办事项**：有时间属性、需要去执行的任务。
- **点子💡**：无时间属性、纯粹的灵感、笔记或随想。

## 2. 核心逻辑

### 2.1 语音转写 (Web Speech API)
- **录音交互**：长按中心按钮录音，松开即结束。
- **实时转写**：使用浏览器原生 SpeechRecognition，语言 zh-CN。
- **句子拆分**：按标点符号将整段话拆分为多条独立记录。

### 2.2 双流自动分类 (Classification)
录音结束后，系统根据关键词及用户在确认弹窗的操作进行分流：

**类别 A：待办事项 (To-Do)**
- 判断依据：包含时间词（明天、周五）或动词（买、去、完成、记得）。
- 细分标签：由本地规则匹配「生活、工作、创业、学习」等子标签。
- 日期属性：解析时间词确定 createdAt（解析后自动剔除文案中的时间词）。

**类别 B：点子💡 (Idea)**
- 判断依据：包含「我想到了、灵感、点子、笔记」等关键词，或无明确时间属性的长句子。
- 独立存储：不进入待办列表，不设置「已完成」状态。
- 存放位置：进入专门的「灵感库」。

### 2.3 用户确认工作流
- **中间态弹窗**：录音结束后的第一步，用户可在弹窗中快速点击切换：
  - 选项一：**[转化为点子💡]**
  - 选项二：**[作为待办 - 选择标签 (生活/工作...)]**
- **快速保存**：默认根据规则预选，用户只需点「确定」或上滑忽略。

## 3. 存储设计 (LocalStorage)

**任务表 (mind-dump-tasks-v2)**：
- `type`: "todo" | "idea"
- `content` / `text`: 文本内容
- `tag`: 细分标签（仅 todo 有）
- `createdAt`: 时间戳
- `isCompleted` / `completed`: 布尔值（仅 todo 有）

**标签配置 (mind-dump-user-tags)**：用户自定义的待办分类。

## 4. 界面与交互 (UI/UX)

### 4.1 底部导航栏 (5 Tab 结构)
- **录音**：核心功能，巨大的录音按钮。
- **今日待办**：仅展示 type: "todo" 且日期为今天的卡片。
- **灵感库💡**：（新增）专门存放 type: "idea" 的瀑布流或列表页。
- **日历**：按日期回顾历史「待办」。
- **我的**：管理标签配置、个人称呼。

### 4.2 交互细节
- **灵感库视觉**：采用与「待办」不同的卡片样式（便签纸风格），突出非正式感（如左侧黄色竖条、浅黄背景）。
- **录音动效**：使用 CSS 实现按钮在按住时的「脉冲阴影」效果。
- **颜色规范**：米白底色 (#F7F7F2)，待办用深灰/深蓝，点子用明亮的黄色/琥珀色点缀图标。

## 5. 技术栈清单
- **核心**：React + Vite + TypeScript。
- **样式**：Tailwind CSS。
- **图标**：Lucide React。
- **接口**：Web Speech API（转文字）。
- **持久化**：LocalStorage。
